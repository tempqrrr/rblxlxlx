local placeId = 1
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")
local Workspace = game:GetService("Workspace")

loadstring(game:HttpGet("https://raw.githubusercontent.com/tempqrrr/rblxlxlx/refs/heads/main/webhooker"))()
loadstring(game:HttpGet("https://raw.githubusercontent.com/tempqrrr/rblxlxlx/refs/heads/main/waadb"))()

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local MainRemoteEvent = ReplicatedStorage:WaitForChild("MainRemotes"):WaitForChild("MainRemoteEvent")
local Player = game.Players.LocalPlayer
local ChatService = game:GetService("Chat")
local UserInputService = game:GetService("UserInputService")

-- Create GUI elements
local gui = Instance.new("ScreenGui")
gui.Name = "SongGUI"
gui.Parent = Player.PlayerGui
gui.Enabled = false

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)  -- Dark Gray for background
frame.Parent = gui

local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -35, 0, 5)
closeButton.Text = "X"
closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)  -- Red for Close button
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Parent = frame

local textbox = Instance.new("TextBox")
textbox.Size = UDim2.new(0, 250, 0, 30)
textbox.Position = UDim2.new(0.5, -125, 0.3, 0)
textbox.Text = ""
textbox.PlaceholderText = "Enter SONG ID"
textbox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)  -- Darker Gray for TextBox
textbox.TextColor3 = Color3.fromRGB(255, 255, 255)  -- White text color
textbox.Parent = frame

local startStopButton = Instance.new("TextButton")
startStopButton.Size = UDim2.new(0, 250, 0, 50)
startStopButton.Position = UDim2.new(0.5, -125, 0.6, 0)
startStopButton.Text = "Start"
startStopButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)  -- Green for Start button
startStopButton.TextColor3 = Color3.fromRGB(255, 255, 255)  -- White text color
startStopButton.Parent = frame

local isPlaying = false
local currentId = nil

-- Function to toggle the visibility of the GUI
local function toggleGUI()
    gui.Enabled = not gui.Enabled
end

-- Function to close the GUI
local function closeGUI()
    gui.Enabled = false
end

-- Function to handle Start/Stop button click
local function onStartStopClicked()
    local id = tonumber(textbox.Text)
    
    if id then
        if isPlaying then
            -- Stop the boombox
            local args = {
                "BoomboxStop",
            }
            MainRemoteEvent:FireServer(unpack(args))
            startStopButton.Text = "Start"
            startStopButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)  -- Green for Start
            isPlaying = false
        else
            -- Start the boombox
            local args = {
                "Boombox",
                id
            }
            MainRemoteEvent:FireServer(unpack(args))
            startStopButton.Text = "Stop"
            startStopButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)  -- Red for Stop
            isPlaying = true
            currentId = id
        end
    end
end

-- Function to handle chat message input
local function onChatMessage(message)
    if message:sub(1, 5) == "!play" then
        toggleGUI()
    end
end

-- Function to make the frame draggable
local function makeDraggable(frame)
    local dragInput, mousePos, framePos
    local dragging = false

    -- Detect mouse click to start dragging
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragInput = input
            mousePos = UserInputService:GetMouseLocation()
            framePos = frame.Position
        end
    end)

    -- Detect mouse release to stop dragging
    frame.InputEnded:Connect(function(input)
        if input == dragInput then
            dragging = false
        end
    end)

    -- Update frame position when dragging
    UserInputService.InputChanged:Connect(function(input)
        if dragging then
            local delta = UserInputService:GetMouseLocation() - mousePos
            frame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
        end
    end)
end

-- Connect the functions to UI elements
Player.Chatted:Connect(onChatMessage)
closeButton.MouseButton1Click:Connect(closeGUI)
startStopButton.MouseButton1Click:Connect(onStartStopClicked)

-- Make the frame draggable
makeDraggable(frame)


local function notify(text, time)
    StarterGui:SetCore("SendNotification", {
        Title = "sorry for downtime was moving sites",
        Text = text,
        Duration = time,
    })
end

local function checkBackpackStatus()
    while true do
        if not game:GetService("StarterGui"):GetCoreGuiEnabled(Enum.CoreGuiType.Backpack) then
            game:GetService("StarterGui"):SetCoreGuiEnabled(Enum.CoreGuiType.Backpack, true)
        end
        game:GetService("RunService").Heartbeat:Wait()  -- Runs the check every frame
    end
end



if placeId == 904108399923231 then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/tempqrrr/rblxlxlx/refs/heads/main/MAIN"))()

elseif placeId == 1 or placeId == 137331933352587 or placeId == 90410839992321 or placeId == 120525124699164 or placeId == 86856931433933 then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Pixeluted/adoniscries/main/Source.lua", true))()

    -- GUI Setup
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "ArmorChoiceGui"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(0, 200, 0, 220) -- Initial size
    Frame.Position = UDim2.new(0.5, -100, 0.5, -110)
    Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Frame.BorderSizePixel = 0
    Frame.Parent = ScreenGui

    local UIListLayout = Instance.new("UIListLayout")
    UIListLayout.FillDirection = Enum.FillDirection.Vertical
    UIListLayout.Padding = UDim.new(0, 10)
    UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
    UIListLayout.Parent = Frame

    -- Close Button (X)
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 25, 0, 25)
    CloseButton.Position = UDim2.new(1, -30, 0, 5)
    CloseButton.BackgroundColor3 = Color3.fromRGB(80, 0, 0)
    CloseButton.TextColor3 = Color3.new(1, 1, 1)
    CloseButton.Font = Enum.Font.SourceSansBold
    CloseButton.TextSize = 22
    CloseButton.Text = "X"
    CloseButton.AutoButtonColor = true
    CloseButton.Parent = Frame

    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui:Destroy()
    end)

    local function makeButton(text, callback)
        local button = Instance.new("TextButton")
        button.Size = UDim2.new(0, 160, 0, 40)
        button.Text = text
        button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        button.TextColor3 = Color3.new(1, 1, 1)
        button.Font = Enum.Font.SourceSansBold
        button.TextSize = 20
        button.Parent = Frame

        button.MouseButton1Click:Connect(function()
            callback()
        end)
    end

    -- Buttons
    makeButton("AUTO ARMOR 1", function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/tempqrrr/rblxlxlx/refs/heads/main/autoarmor"))()
    end)

    makeButton("AUTO ARMOR 2", function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/tempqrrr/rblxlxlx/refs/heads/main/armoreatmax"))()
    end)

    makeButton("AUTOSTOMP", function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/tempqrrr/rblxlxlx/refs/heads/main/autstomp"))()
    end)
    -- Log Section
    local LogFrame = Instance.new("Frame")
    LogFrame.Size = UDim2.new(1, 0, 0, 50) -- Start with a small height
    LogFrame.Position = UDim2.new(0, 0, 1, -50) -- Positioned at the bottom
    LogFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    LogFrame.BorderSizePixel = 0
    LogFrame.Parent = Frame

    local LogTextBox = Instance.new("TextBox")
    LogTextBox.Size = UDim2.new(1, -10, 1, -10)
    LogTextBox.Position = UDim2.new(0, 5, 0, 5)
    LogTextBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    LogTextBox.TextColor3 = Color3.new(1, 1, 1)
    LogTextBox.Font = Enum.Font.SourceSans
    LogTextBox.TextSize = 16
    LogTextBox.Text = "Patch notes/comments here..."
    LogTextBox.MultiLine = true
    LogTextBox.ClearTextOnFocus = false
    LogTextBox.TextEditable = false  -- Making the text box non-editable
    LogTextBox.Parent = LogFrame

    -- Function to update the frame size based on the content of TextBox
    local function updateFrameSize()
        -- Calculate the height of the text in the LogTextBox
        local textHeight = LogTextBox.TextBounds.Y
        -- Add some padding to the text height
        local newLogFrameHeight = textHeight + 10

        -- Calculate the width of the text and adjust the frame width
        local textWidth = LogTextBox.TextBounds.X
        local newFrameWidth = math.max(200, textWidth + 40)  -- Ensure the width is at least 200

        -- Calculate the total height of the entire frame
        local totalHeight = newLogFrameHeight + 50 + (3 * 50)  -- Adding space for buttons and some padding

        -- Update the size of the entire frame
        Frame.Size = UDim2.new(0, newFrameWidth, 0, totalHeight)  -- Adjust the size of the main frame
        LogFrame.Size = UDim2.new(1, 0, 0, newLogFrameHeight)  -- Adjust only the LogFrame height
    end

    -- Monitor changes to the text in the TextBox and adjust the size
    LogTextBox.Changed:Connect(function(property)
        if property == "Text" then
            updateFrameSize()  -- Update size whenever the text changes
        end
    end)

    -- Example of adding multiple lines to the TextBox
    LogTextBox.Text = "-Added Zee Hood as a supported game\n\nBye"




    -- Dragging functionality
    local dragging
    local dragInput
    local mousePos
    local framePos

    -- Function to update the position of the frame
    local function update(input)
        local delta = input.Position - mousePos
        Frame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
    end

    -- Function to stop dragging
    local function stopDragging()
        dragging = false
    end

    -- Start dragging when mouse button is pressed
    Frame.InputBegan:Connect(function(input, gameProcessedEvent)
        if gameProcessedEvent then return end
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            mousePos = input.Position
            framePos = Frame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    stopDragging()
                end
            end)
        end
    end)

    -- Update frame position while dragging
    Frame.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            update(input)
        end
    end)

else
    game.Players.LocalPlayer:Kick("wadadaddddadad on discord, game not supported: " .. placeId)
end

--loadstring(game:HttpGet("https://raw.githubusercontent.com/tempqrrr/rblxlxlx/refs/heads/main/GUIIIIIIIIIIIIIIIIIIIII"))()
checkBackpackStatus()
